<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>轮播图</title>
		<style>
			*{margin: 0;padding: 0;}
			ul{list-style: none;}
			ul li{float: left;}
			img{width: 220px;height: 220px;}
			#wrap{position: relative;margin: 50px auto;width: 220px;height: 220px;}
			#nav{width:220px;position: absolute;left: 20px;top: 220px;}
			#nav li{width: 40px;height:40px;background:rgba(20,200,80,0.5);border-radius: 50%;
					text-align: center;line-height: 40px;}
			#main{width: 220px;height:220px;overflow: hidden;border: 1px solid #000;}
			
			#main li{display: none;}
			#main .select{display: block;}
			#nav .select{background: rgba(70,200,80,0.3);}
			
		</style>
	</head>

	<body>
		<div id="wrap">
			<ul id="nav">
				<li class="select">1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
			</ul>
			
			<ul id="main">
				<li class="select"><img src="img/1.jpg"/></li>
				<li><img src="img/2.jpg"/></li>
				<li><img src="img/3.jpg"/></li>
				<li><img src="img/4.jpg"/></li>
			</ul>
		</div>
	</body>
	<script>
	//相比于替换图片路径的轮播方法，好处在于能让图片一次性加载完，不用反复向后台请求数据
	
		var timer
		var count = 0 
		var liNum = document.querySelector("#nav").querySelectorAll("li")
		var liImg = document.querySelector("#main").querySelectorAll("li")
		
	show()	
	function show(){
		clearInterval(timer)
		timer = setInterval(function(){
			for(var i=0;i<liImg.length;i++){
				liImg[i].className = ""
				liNum[i].className = ""
			}
			liImg[count].className = "select"			
			liNum[count].className = "select"
			
			count++
			if(count == 4){count = 0 }
		},1000)
	}	
		
		
			for(var i=0;i<liNum.length;i++){
				liNum[i].index = i
				liNum[i].onmouseover = function(){
					for(var j=0;j<liImg.length;j++){
						liImg[j].className = ""
						liNum[j].className = ""
					}
					liImg[this.index].className = "select"	
					
					this.className = "select"
					clearInterval(timer)
				}
				liNum[i].onmouseout = function(){
					count = this.index
					show()
				}
			}
		
	</script>
</html>