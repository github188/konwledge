"use strict";function ajax(e){var a={type:"GET",url:"",data:{},upload:{method:"POST",el:"",name:""},headers:{Authorization:"Bearer "},success:function(){},fail:function(){}};for(var t in e)a[t]=e[t];var r=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;if("GET"===a.type.toUpperCase()){r.open(a.type,addHrefQuery(a.url,a.data),!0);for(var s in a.headers)r.setRequestHeader(s,a.headers[s]);r.send()}else if("POST"===a.type.toUpperCase()){r.open(a.type,a.url,!0);for(var s in a.headers)r.setRequestHeader(s,a.headers[s]);r.send(JSON.stringify(a.data))}else if("UPLOAD"===a.type.toUpperCase()){r.open(a.upload.method,a.url,!0);for(var s in a.headers)r.setRequestHeader(s,a.headers[s]);for(var n=new FormData,s=0;s<a.upload.el.files.length;s++)n.append(a.upload.name,a.upload.el.files[s]);r.send(n)}r.onreadystatechange=function(){4===r.readyState&&200===r.status?a.success(JSON.parse(r.responseText)):a.fail(r.status)}}function addHrefQuery(e,a){var t=-1===e.indexOf("?")?"?":"&";for(var r in a)t+=r+"="+a[r]+"&";return e+=t.substring(0,t.length-1)}function fileAppend(e,a){for(var t=new FormData,r=0;r<e.files.length;r++)t.append(a,e.files[r]);return t}