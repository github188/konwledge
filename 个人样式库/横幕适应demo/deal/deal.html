<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <title>Title</title>
    <script>
        (function (doc, win) {
            var docEl = doc.documentElement,
                    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
                    recalc = function () {
                        var clientWidth = docEl.clientWidth;
                        if (!clientWidth) return;
                        if(clientWidth>=640){
                            docEl.style.fontSize = '100px';
                        }else{
                            docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';
                        }
                    };

            if (!doc.addEventListener) return;
            win.addEventListener(resizeEvt, recalc, false);
            doc.addEventListener('DOMContentLoaded', recalc, false);
        })(document, window);
    </script>
    <style>
        body,html,img,ul,li,input{
            margin:0;
            padding:0;
        }
        body,html{
            width:100%;
            height:100%;
            background: #f3f4f8;
        }
        ul,li{
            list-style: none;
        }
        .main{
            display: flex;
            flex: 1;
            flex-direction: column;
        }

        /*　　这是匹配横屏的状态，横屏时的css代码　　*/
        @media all and (orientation : landscape) {
            header{
                width:100%;
                height:0.42rem;
                display: flex;
                flex: 1;
                justify-content: center;
                align-items: center;
                background: #fc6c38;
                font-size: 0.24rem;
                color:#ffffff;
                margin-bottom: 0.1rem;
            }
            .return{
                width:0.22rem;
                height:0.22rem;
                background: url("img/return.png") no-repeat center/cover;
                position: absolute;
                left:0.2rem;
                top:0.1rem;
            }
            .order{
                padding:0 0.24rem 0 0.24rem;
                box-sizing: content-box;
                background: white;
            }
            .order_top{
                display: flex;
                flex: 1;
                width:100%;
                height:0.6rem;
                font-size:0.14rem;
                background:white;
                flex-direction: column;
                position: relative;
                border-bottom:0;
                color: #cccccc;
            }
            .order_body{
                margin-top: 0.05rem;
            }
            .order_b{
                margin-top: 0.05rem;
                color: #94a0ad;
            }
            .order_top div{
                flex:1;
                display: flex;

            }
            .order_num{
                color: #000;
            }
            .order_price{
                color: #fb281e;
            }
            .order_detail{
                position: absolute;
                right:0;
                bottom:0.1rem;
                color: #fb281e;
            }
            .order_detail .arrow{
                width:0.14rem;
                height:0.14rem;
                margin-top:0.04rem;
                background: url("img/ar1.png") no-repeat center/cover;
            }
            .order_bottom{
                width:100%;
                height:0.6rem;
                display: none;
                flex: 1;
                font-size:0.14rem;
                flex-direction: column;
                background:white;

            }
            .order_bottom div{
                display: flex;
                flex: 1;
                flex-direction: row;
                /*align-items: center;*/
            }
            .order_bottom div .time{
                justify-content: flex-end;
            }
            .order_bottom div .deal_body{
                justify-content: flex-end;
            }
            .choose_pay{
                width:100%;
                line-height:0.2rem ;
                background: #f3f4f8;
                padding:0.8% 3%;
                border-top:2px solid #ebebed;
                border-bottom:2px solid #ebebed;
                font-size:0.14rem;
                position: relative;
                color: rbg(94,101,127);
            }
            .border{
                border-left:3px solid rgb(246,105,55);
                padding-left:3%;
            }
            .choose_way{
                width:100%;
                display: flex;
                flex-flow: row wrap;
                background:white;
                padding:1% 3.4%;
                box-sizing: content-box;
            }
            .choose_way li{
                flex: 0 0 22%;
                padding:1.6% 2%;
                justify-content: center;
                box-sizing: border-box;
                /*position: relative;*/
                display: flex;
                justify-content: space-between;
                align-items: center;
                border: 0.02rem solid rgb(236,240,244);
                margin-left:1%;
                margin-bottom:1.2%;
                margin-top: 1.2%;
                border-radius:0.1rem ;
            }
            /*.choose_way li:nth-child(4){*/
                /*margin-bottom: 0;*/
            /*}*/
            .choose_way li img{
                width:80%;
                margin-left: 0.1rem;
            }
            .choose_way li .btn{
                width:0.16rem;
                height:0.16rem;
                background: url("img/4.png") no-repeat center/cover;
                position: relative;
            }
            .time{
                text-align: right
            }
            .choose_way li .btn input{
                opacity: 0;
                position: absolute;
                left:0;
                top:0;
            }
            .btn_ok{
                width:98%;
                height:0.4rem;
                background: #fc6c38;
                margin-left:1%;
                border:none;
                margin-top: 0.26rem;
                border-radius: 0.08rem;
                font-size: 0.22rem;
                color: #ffffff;
            }
        }

        /*　　这是匹配竖屏的状态，竖屏时的css代码　　*/
        @media all and (orientation : portrait){
            header{
                width:100%;
                height:0.82rem;
                display: flex;
                flex: 1;
                justify-content: center;
                align-items: center;
                background: #fc6c38;
                font-size: 0.38rem;
                color:#ffffff;
                margin-bottom: 0.2rem;
                position: relative;
            }
            .return{
                width:0.4rem;
                height:0.4rem;
                background: url("img/return.png") no-repeat center/cover;
                position: absolute;
                left:0.3rem;
                top:0.24rem;
            }
            .order{
                padding: 0.02rem 0.24rem 0.04rem 0.24rem;
                box-sizing: content-box;
                background: white;
            }
            .order_top{
                display: flex;
                flex: 1;
                width:100%;
                height:1.22rem;
                font-size:0.22rem;
                background:white;
                flex-direction: column;
                position: relative;
                /*border-bottom: 0.01rem solid #bbbbbb;*/
                color: #cccccc;
            }
            .order_body{
                margin-top: 0.2rem;
            }
            .order_b{
                margin-top: 0.2rem;
                color: #94a0ad;
            }
            .order_top div{
                flex:1;
                display: flex;
            }
            .order_num{
                color: #000;
            }
            .order_price{
                color: #fb281e;
            }
            .order_detail{
                position: absolute;
                right:0;
                bottom:0.18rem;
                color: #fb281e;
            }
            .order_detail .arrow{
                width:0.2rem;
                height:0.2rem;
                margin-top:0.07rem;
                background: url("img/ar1.png") no-repeat center/cover;
            }
            .order_bottom{
                width:100%;
                height:1.22rem;
                display: none;
                flex: 1;
                font-size:0.22rem;
                flex-direction: column;
                background:white;

            }
            .order_bottom div{
                display: flex;
                flex: 1;
                flex-direction: row;
                /*align-items: center;*/
            }
            .order_bottom div .time{
                justify-content: flex-end;
            }
            .order_bottom div .deal_body{
                justify-content: flex-end;
            }
            .choose_pay{
                width:100%;
                line-height:0.3rem ;
                background: #f3f4f8;
                padding:2% 3%;
                border-top:2px solid #ebebed;
                border-bottom:2px solid #ebebed;
                font-size:0.3rem;
                position: relative;
                color: rbg(94,101,127);
            }
            .border{
                border-left:3px solid rgb(246,105,55);
                padding-left:3%;
            }
            .choose_way{
                width:100%;
                height:3.2rem;
                display: flex;
                flex-flow: row wrap;
                background:white;
                padding:4% 0;
                box-sizing: content-box;
            }
            .choose_way li{
                flex: 0 0 44%;
                padding:0 0.1rem;
                justify-content: center;
                box-sizing: border-box;
                /*position: relative;*/
                display: flex;
                justify-content: space-between;
                align-items: center;
                border: 0.03rem solid rgb(236,240,244);
                margin-left:4%;
                margin-bottom: 4%;
                border-radius:0.1rem ;
            }
            .choose_way li:nth-child(3){
                margin-bottom: 0;
            }
            .choose_way li:nth-child(4){
                margin-bottom: 0;
            }
            .choose_way li img{
                width:84%;
                margin-left: 0.22rem;
            }
            .choose_way li .btn{
                width:0.3rem;
                height:0.3rem;
                background: url("img/4.png") no-repeat center/cover;
                position: relative;
            }
            .time{
                text-align: right
            }
            .choose_way li .btn input{
                opacity: 0;
                position: absolute;
                left:0;
                top:0;
            }
            .btn_ok{
                width:98%;
                height:0.67rem;
                background: #fc6c38;
                margin-left:1%;
                border:none;
                margin-top: 0.4rem;
                border-radius: 0.08rem;
                font-size: 0.34rem;
                color: #ffffff;
            }
            .addw{
                -webkit-transition: all 0.5s ease-in-out;
                -moz-transition: all 0.5s ease-in-out;
                transition: all 0.5s ease-in-out;
            }
            .add{
                -webkit-transform: scale(0.5);
                -moz-transform: scale(0.5);
                -ms-transform: scale(0.5);
                transform: scale(0.5) }
        }

    </style>
</head>
<body>
<div class="main">
    <header>
        <div class="return"></div>
        订单支付
    </header>
    <div class="order">
        <div class="order_top">
            <div class="order_body">
                <span>
                    订单编号：
                </span>
                <a class="order_num">dasdasdas</a>
            </div>
            <div>
                <span>
                    订单金额：
                </span>
                <a class="order_price">dasdasd</a>
            </div>
            <div class="order_detail">订单详情&nbsp;<span class="arrow"></span>&nbsp;</div>
        </div>
        <div class="order_bottom">
            <div class="order_b">
                <div class="day">22222222</div>
                <div class="time">dsadsd</div>
            </div>
            <div>
                <div>产品：<span class="order_good">焦点购房宝</span></div>
                <div class="deal_body">交易：<span class="deal_price">xxxx</span>元</div>
            </div>
        </div>
    </div>
    <div class="choose_pay">
        <div class="border">选择支付</div>
    </div>
    <ul class="choose_way">
        <li class="li_btn">
            <img src="img/zfb.png" alt="">
            <!--<label class="btn"></label>-->
        </li>
        <li class="li_btn">
            <img src="img/wx.png" alt="">
            <!--<label class="btn"></label>-->
        </li>
        <li class="li_btn">
            <img src="img/zfb3.png" alt="">
            <!--<label class="btn"></label>-->
        </li>
        <li class="li_btn">
            <img src="img/wx3.png" alt="">
            <!--<label class="btn"></label>-->
        </li>
    </ul>
    <button class="btn_ok">确认支付</button>
</div>
</body>
<script src="js/jquery-1.10.1.min.js"></script>
<script>
//    function hengshuping(){
//        if(window.orientation==180||window.orientation==0){
//            alert("竖屏状态！")
//        }
//        if(window.orientation==90||window.orientation==-90){
//            alert("横屏状态！")
//        }
//    }
//    window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", hengshuping, false);

//    function orient() {
//        if (window.orientation == 90 || window.orientation == -90) {
////ipad、iphone竖屏；Andriod横屏
//            $("body").attr("class", "landscape");
//            orientation = 'landscape';
//            return false;
//        }
//        else if (window.orientation == 0 || window.orientation == 180) {
////ipad、iphone横屏；Andriod竖屏
//            $("body").attr("class", "portrait");
//            orientation = 'portrait';
//            return false;
//        }
//    }
//var mql = window.matchMedia("(orientation: portrait)");
//
//    $(window).bind( 'orientationchange', function(e){
//        orient();
//        console.log(mql.matches)
//    });

 var mql = window.matchMedia('(orientation: portrait)');
 console.log(mql);
 function handleOrientationChange(mql) {
         if(mql.matches) {
             border_portrait()
             }else {
             border_landscape()
             }
     }
 // 输出当前屏幕模式
 handleOrientationChange(mql);
 // 监听屏幕模式变化
 mql.addListener(handleOrientationChange);

function DateTime() {
        var date = new Date();
        var year = date.getFullYear();
        var month = date.getMonth();
        var day = date.getDay();
        var hour = date.getHours();
        var fen = date.getMinutes();
        var sec = date.getSeconds();
        var days =year+"年"+month+"月"+day+"日"
        var times=hour+":"+fen+":"+sec
        return {
            days:days,times:times
        }
    }
    $.getJSON("data.js", function(json){
        var number= json.deal[0].number;
        var price= json.deal[0].price;
        var good= json.deal[0].good;
        $(".order_num").html(number);
        $(".order_price").html(price+"元");
        $(".deal_price").html(price);
        $(".order_good").html(good);
        $(".day").html(DateTime().days);
        $(".time").html(DateTime().times)
    });

//竖屏
function border_portrait(){
    window.onload = function() {
        $(".btn").eq(0).css({background:"url('img/3.png') no-repeat center/cover"})
        $(".li_btn").eq(0).css("border","0.03rem solid rgb(248,166,126)")
    };

    $(".choose_way").find("li").css("border","0.03rem solid rgb(236,240,244)")
    $(".li_btn").eq(index).css("border","0.03rem solid rgb(248,166,126)")

    $(".li_btn").click(function(){
        $(".choose_way").find("li").css("border","0.03rem solid rgb(236,240,244)")
        $(".btn").css({background:"url('img/4.png') no-repeat center/cover"})
        $(this).css("border","0.03rem solid rgb(248,166,126)")
        $(this).find(".btn").css({background:"url('img/3.png') no-repeat center/cover"})
        index=$(this).index();
    })
}

//横屏
function border_landscape(){
    window.onload = function() {
        $(".btn").eq(0).css({background:"url('img/3.png') no-repeat center/cover"})
        $(".li_btn").eq(0).css("border","0.02rem solid rgb(248,166,126)")
    };

    $(".choose_way").find("li").css("border","0.02rem solid rgb(236,240,244)")
    $(".li_btn").eq(index).css("border","0.02rem solid rgb(248,166,126)")

    $(".li_btn").click(function(){
        $(".choose_way").find("li").css("border","0.02rem solid rgb(236,240,244)")
        $(".btn").css({background:"url('img/4.png') no-repeat center/cover"})
        $(this).css("border","0.02rem solid rgb(248,166,126)")
        $(this).find(".btn").css({background:"url('img/3.png') no-repeat center/cover"})

        index=$(this).index();

    })
}

    var index=0;
    var stata=false;
    $(".order_detail").click(function(){
        stata=!stata
        if(stata){
            $(".order_bottom").css("display","flex")
            $(".order_top").css("border-bottom","0.01rem solid #bbbbbb")

            $(".arrow").css("background","url('img/ar2.png') no-repeat center/cover")
        }else{
            $(".order_bottom").css("display","none")
            $(".order_top").css("border-bottom","none")

            $(".arrow").css("background","url('img/ar1.png') no-repeat center/cover")
        }
    })

    //  支付提交
    $(".btn_ok").click(function(){
        var choose_way=index
        switch (choose_way)
        {
            case 0:
                alert("zfb")
                break;
            case 1:
                alert("wx")
                break;
            case 2:
                alert("zfbma")
                break;
            case 3:
                alert("wxma")
                break;
        }
    })

    //  返回按钮
    $(".return").click(function(){
        alert("return")
//        location.href=""
    })
</script>
</html>